<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Questions Game</title>
</head>

<body>

    <div>
        <h1>Welcome to the Questions Game!</h1>
        <h4 id="userprompt-text">You will see a statement displayed below. Make your best educated guess to determine of the statement is true or false. Type 't' or 'f' to make a selection</h4>
        <p id="questions-text"></p>
        <p id="score-text"></p>
    </div>

    <script>

        var questions = [
            { q: "There are 12 inches in a foot.", a: "t" },
            { q: "There are 33.7 fluid ounces in a litre.", a: "f" },
            { q: "There are 27 letters in the english alphabet.", a: "f" },
            { q: "#2 pencils are acceptable for test taking in the U.S.", a: "t" },
            { q: "San Francisco is in Silicon Valley.", a: "f" }
        ];

        let correct = 0;
        let index = 0;
        let userInput;

        //method to render new question and display up-to-date score
        function renderQuestion() {
            if (index < questions.length) {
                document.querySelector("#questions-text").innerHTML = questions[index].q;
                document.querySelector("#score-text").innerHTML = `Score: ${ correct }`;
            }
            else {
                document.querySelector("#questions-text").innerHTML = "Game Over!";
                document.querySelector("#score-text").innerHTML = `Final Score: ${ correct } out of ${ questions.length }.`;
                if (correct === 5) {
                    document.querySelector("#userprompt-text").innerHTML = "Wow! You got a perfect score."
                } else {
                    document.querySelector("#userprompt-text").innerHTML = "Thanks for playing, stay hungry"
                }
            }
        }

        //call renderQuestion method to produce first question
        renderQuestion();

        //when a key is released, the function is executed
        document.onkeyup = function(event) {
            //exit function early if no more questions
            if (index === questions.length) {
                return;
            }
            userInput = event.key.toLowerCase();
            //user data validation
            if (userInput === "t" || userInput === "f") {
                //correct guess
                if (userInput === questions[index].a) {
                    alert("Correct!");
                    correct++;
                }
                //incorrect guess
                else {
                    alert("Wrong!");
                }
                document.querySelector("#userprompt-text").innerHTML = "Please make a selection: t/f";
                //increment index variable and produce next question from questions array
                index++;
                renderQuestion();
            }
        };
    </script>
</body>
</html>